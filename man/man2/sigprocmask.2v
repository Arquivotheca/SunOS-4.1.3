.\" @(#)sigprocmask.2v 1.1 92/07/30 SMI; new for 4.1, POSIX
.TH SIGPROCMASK 2V "21 January 1990"
.SH NAME
sigprocmask \- examine and change blocked signals
.SH SYNOPSIS
.LP
.nf
.ft B
#include <signal.h>
.ft
.fi
.LP
.nf
.ft B
int sigprocmask(how, set, oset) 
int how; 
sigset_t *set, *oset;
.ft R
.fi
.LP
.SH DESCRIPTION
.IX "sigprocmask()" "" "\fLsigprocmask()\fP \(em examine and change blocked signals" ""
.IX signal "examine and change blocked signals"
.IX change "blocked signals"
.IX examine "blocked signals"
.LP
.B sigprocmask(\|)
is used to examine or change (or both) the calling process's 
signal mask.  If the value of
.I set
is not 
.SM NULL\s0,
it points to a set of signals to be used to change the currently blocked set.
.LP
The value of
.I how
indicates the manner in which the set is changed, and consists of one of 
the following values, as defined in the header 
.BR <signal.h> :
.RS
.TP 15
.SB SIG_BLOCK
The resulting set is the union of the 
current set and the signal set pointed to by
.IR set .
.TP
.SB SIG_UNBLOCK
The resulting set is the intersection
of the current set and the complement of the 
signal set pointed to by
.IR set .
.TP
.SB SIG_SETMASK
The resulting set is the signal set 
pointed to by
.IR set .
.RE
.LP
If
.I oset
is not 
.SM NULL\s0,
the previous mask is stored in the space pointed to by 
.I oset.  
If the value of
.I set
is  
.SM NULL\s0,
the value of
.I how
is not significant and the process's signal mask is unchanged by this
function call.  Thus, the call can be used to enquire about currently
blocked signals.
.LP
If there are any pending unblocked signals after the call to
.BR sigprocmask(\|) ,
at least one of those signals is be delivered before
.B sigprocmask(\|)
returns.
.LP
If it is not possible to block the 
.SB SIGKILL
and 
.SB SIGSTOP
signals.
This is enforced by the system without causing an error to be
indicated.
.LP
If any of the 
\fB\s-1SIGFPE\s0\fP,
\fB\s-1SIGKILL\s0\fP,
or
.SB SIGSEGV
signals are generated while they are blocked, the result is undefined, unless
the signal was generated by a call to
.BR kill (2V).
.LP
If
.B sigprocmask(\|)
fails, the process's signal mask is not changed.
.SH RETURN VALUES
.LP
.B sigprocmask(\|)
returns:
.TP
0
on success.
.TP
\-1
on failure and sets
.B errno
to indicate the error.
.SH ERRORS
.TP 15
.SM EINVAL
The value of
.I how
is not equal to one of the defined values.
.SH SEE ALSO
.BR sigpause (2V),
.BR sigpending (2V),
.BR sigvec (2),
.BR sigaction (3V),
.BR sigsetops (3V)
